{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "OCP Archive Entry",
  "description": "Schema for entries in the Immutable Archive",
  "type": "object",
  "required": [
    "entry_id",
    "agent_id",
    "action_type",
    "semantic_hash",
    "pre_state_hash",
    "post_state_hash",
    "timestamp",
    "signature",
    "constitutional_citation"
  ],
  "properties": {
    "entry_id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for this archive entry"
    },
    "agent_id": {
      "type": "string",
      "description": "Cryptographic identity of the submitting agent"
    },
    "action_type": {
      "type": "string",
      "enum": [
        "contract_proposal",
        "fraud_proof",
        "constitutional_amendment",
        "verification_result",
        "human_override"
      ]
    },
    "semantic_hash": {
      "type": "string",
      "pattern": "^[a-f0-9]{64}$",
      "description": "SHA-256 hash of canonicalized content"
    },
    "pre_state_hash": {
      "type": "string",
      "description": "Hash of system state before this action"
    },
    "post_state_hash": {
      "type": "string", 
      "description": "Hash of system state after this action"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of entry creation"
    },
    "signature": {
      "type": "string",
      "description": "Digital signature by the submitting agent"
    },
    "constitutional_citation": {
      "type": "string",
      "description": "Reference to constitutional article justifying this action"
    },
    "evidence_pointers": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "References to supporting evidence in archive"
    },
    "zk_proof": {
      "type": "string",
      "description": "Optional zero-knowledge proof for private actions"
    }
  },
  "additionalProperties": false
}
